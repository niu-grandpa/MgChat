# 问题收集

## 前端

### 难点

1.如何实现窗口复用？

2.如何跨窗口获取数据？

3.如何将路由页面渲染到窗口，且不会导致父级窗口也显示子页面？

4.如何实现消息缓存？

5.如何实现消息收发？怎么知道是发给我的？

6.快速登录注册怎么实现的？自动登录怎么实现的？怎么解决重复登陆？

7.用户等级升级怎么实现的？

8.收发验证码和有效期怎么实现的？

9.异步函数无法使用的 bind，call，apply？

场景：我把中间件函数收集在数组里，之后执行上一个函数后如果它有返回值我想让它能被下一个函数接收到，普通函数没有问题，直接通过 bind 调用加参数，而异步函数的话就报错不存在 bind 方法，原因是 async 函数的返回值是一个 Promise 对象，而不是一个普通的函数，所以它不能使用 bind 方法来绑定 this 值。

10.可取消的执行函数

无法在 useEffect 里取消定时器，即使取消后仍然执行

解决代码

```ts
let tryCount = 0;
useEffect(() => {
  tryCount++;
  if (tryCount !== 2 && auto) handleAutoLogin();
}, [auto]);
```

### 优化

1.消息长列表大数据量卡顿

2.提升本地消息存储效率

3.多窗口缓存优化

4.api 接口调用和错误处理优化

## 后端

1.怎么编写通用的处理 crud 逻辑的函数？

2.如何设计每个数据库文档的数据结构？

3.如何连接数据库和搭建服务器？
